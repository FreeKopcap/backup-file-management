# FileManagement

Утилиты для управления файлами и резервными копиями.

1.
## removeFilesAlreadyBackuped.sh

Скрипт для удаления файлов из папки SOURCE, которые уже существуют в папке BACKUP с теми же параметрами.

### Возможности

- Автоматическое определение платформы (macOS/BSD или Linux/GNU)
- Сравнение файлов по размеру и дате создания
- Проверка безопасности: SOURCE и BACKUP не должны совпадать
- Интерактивное подтверждение перед удалением
- Безопасная обработка имен файлов (поддержка пробелов и специальных символов)

### Использование

```bash
./removeFilesAlreadyBackuped.sh
```

Скрипт запросит пути к папкам:
- **SOURCE**: исходная папка (по умолчанию - текущая папка)
- **BACKUP**: папка с резервными копиями (по умолчанию - `/backup`)

### Критерии сравнения

Файл будет удален из SOURCE, если в BACKUP существует файл с:
- Тем же относительным путем
- Тем же размером
- Той же датой создания (на Linux, если недоступна - используется время изменения)

### Пример

```bash
cd /path/to/source
./removeFilesAlreadyBackuped.sh
# Введите путь к SOURCE [по умолчанию текущая папка]: [Enter]
# Введите путь к BACKUP [по умолчанию /backup]: /backup/storage
```

### Требования

- macOS или Linux
- zsh или bash
- GNU coreutils или BSD utils

2.
## removeZeroFiles.sh

Скрипт для удаления файлов нулевого размера определенной маски из директории (рекурсивно, включая поддиректории), а также для удаления пустых директорий (в которых, включая поддиректории, нет ни одного файла).

### Возможности

- Рекурсивный поиск файлов нулевого размера по маске
- Поиск и удаление директорий, в которых (и их поддиректориях) нет ни одного файла (ключ `-d/--directory`)
- Интерактивный запрос маски и директории
- Интерактивное подтверждение перед удалением (по умолчанию - для каждого файла/директории)
- Опция `-y/--yes` для автоматического удаления без подтверждений
- Опция `-n/--dry-run` для сухого прогона (только показ списка без удаления)
- Безопасная обработка имен файлов и директорий (поддержка пробелов и специальных символов)
- Показ списка найденных файлов/директорий перед удалением

### Использование

```bash
./removeZeroFiles.sh [-y|--yes] [-n|--dry-run] [-d|--directory]
```

**Опции:**
- `-y`, `--yes`: удаление без подтверждений (список объектов все равно выводится)
- `-n`, `--dry-run`: сухой прогон — только показ списка объектов, которые были бы удалены (без фактического удаления)
- `-d`, `--directory`: вместо файлов удаляются директории, в которых (и во всех поддиректориях) нет ни одного файла

**По умолчанию (без опций):**
- Спрашивает подтверждение для каждого файла перед удалением

Скрипт запросит:
- **Маску файлов** (или директорий при `-d`): шаблон для поиска (например, `log*`, `*.tmp`, `test?`). Если оставить пустым (нажать Enter), будут найдены все файлы нулевого размера (или все директории-кандидаты при `-d`)
- **Директорию**: путь к директории для поиска (по умолчанию — текущая папка)

### Критерии удаления

Файл будет удален, если:
- Размер файла равен 0 байт
- Имя файла соответствует указанной маске (или любое имя, если маска не указана)
- Файл находится в указанной директории или её поддиректориях
- Это файл, а не директория

Директория будет удалена (при использовании `-d`), если:
- Она попала в выборку по маске (или маска пуста)
- В ней и во всех её поддиректориях нет ни одного файла

### Примеры

**Режим по умолчанию (подтверждение для каждого файла):**
```bash
cd /path/to/directory
./removeZeroFiles.sh
# Введите маску файлов (например, log*): log*
# Введите путь к директории [по умолчанию текущая папка]: [Enter]
# Найдено 5 файл(ов) нулевого размера с маской 'log*' в: /path/to/directory
# Список файлов для удаления:
#   ./logs/app.log
#   ./logs/error.log
#   ./logs/debug.log
#   ...
# Удалить файл './logs/app.log'? [y/N]: y
# Удален: ./logs/app.log
# Удалить файл './logs/error.log'? [y/N]: n
# Пропущен: ./logs/error.log
# ...
```

**Режим автоматического удаления (с опцией -y):**
```bash
./removeZeroFiles.sh -y
# Введите маску файлов (например, log*): *.tmp
# Введите путь к директории [по умолчанию текущая папка]: [Enter]
# Найдено 3 файл(ов) нулевого размера с маской '*.tmp' в: /path/to/directory
# Список файлов для удаления:
#   ./file1.tmp
#   ./file2.tmp
#   ./file3.tmp
# Удаление файлов (без подтверждения)...
# Удален: ./file1.tmp
# Удален: ./file2.tmp
# Удален: ./file3.tmp
# Удалено: 3 из 3 файл(ов).
```

**Режим сухого прогона (с опцией -n):**
```bash
./removeZeroFiles.sh -n
# Введите маску файлов (например, log*): log*
# Введите путь к директории [по умолчанию текущая папка]: [Enter]
# Найдено 5 файл(ов) нулевого размера с маской 'log*' в: /path/to/directory
# Список файлов для удаления:
#   ./logs/app.log
#   ./logs/error.log
#   ./logs/debug.log
#   ./logs/info.log
#   ./logs/warn.log
# РЕЖИМ СУХОГО ПРОГОНА: файлы НЕ будут удалены
# Были бы удалены: 5 файл(ов)
```

**Поиск всех файлов нулевого размера (пустая маска):**
```bash
./removeZeroFiles.sh -n
# Введите маску файлов (например, log*), или Enter для всех файлов: [Enter]
# Введите путь к директории [по умолчанию текущая папка]: [Enter]
# Найдено 10 файл(ов) нулевого размера со всеми файлами в: /path/to/directory
# Список файлов для удаления:
#   /path/to/directory/file1
#   /path/to/directory/file2
#   ...
# РЕЖИМ СУХОГО ПРОГОНА: файлы НЕ будут удалены
# Были бы удалены: 10 файл(ов)
```

**Удаление пустых директорий (с опцией -d):**
```bash
./removeZeroFiles.sh -d
# Введите маску директорий (например, log*), или Enter для всех директорий: [Enter]
# Введите путь к директории [по умолчанию текущая папка]: [Enter]
# Найдено 3 директорий без файлов со всеми директориями без файлов в: /path/to/directory
# Список директорий для удаления:
#   /path/to/directory/dir1
#   /path/to/directory/dir2
#   /path/to/directory/dir3
# Удалить директорию '/path/to/directory/dir1'? [y/N]: y
# Удалена: /path/to/directory/dir1
# ...
```

### Требования

- macOS или Linux
- zsh или bash